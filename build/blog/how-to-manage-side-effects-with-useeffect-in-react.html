<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>How to Manage Side Effects with useEffect in React</title><meta name="google-adsense-account" content="ca-pub-7544108447932228"/><meta name="description" content="Managing side effects is a crucial aspect of developing React applications. Side effects can include operations like data fetching, subscriptions, or manually changing the DOM."/><meta http-equiv="content-language" content="en-gb"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZW8BQT2FR5"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-ZW8BQT2FR5', {
              page_path: window.location.pathname,
            });
          </script><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7544108447932228" crossorigin="anonymous"></script><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/37dda4d3ee13d21a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/37dda4d3ee13d21a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-3a2c2e04f96fe20f.js" defer=""></script><script src="/_next/static/chunks/framework-830c258247320cfe.js" defer=""></script><script src="/_next/static/chunks/main-72d80c459d5965d8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-693795d31d371be4.js" defer=""></script><script src="/_next/static/chunks/1966-c734c28b94bb72b6.js" defer=""></script><script src="/_next/static/chunks/pages/blog/how-to-manage-side-effects-with-useeffect-in-react-3e27721e20b1c40d.js" defer=""></script><script src="/_next/static/6itQSgHCJf2ErIeQWG4km/_buildManifest.js" defer=""></script><script src="/_next/static/6itQSgHCJf2ErIeQWG4km/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="border-b"><nav class="bg-white shadow dark:bg-gray-800"><div class="container px-6 py-3 mx-auto md:flex "><div class="flex items-center justify-between w-full  "><a href="/"><span class="whitespace-nowrap text-2xl font-bold text-gray-800 transition-colors duration-200 transform dark:text-white lg:text-3xl hover:text-gray-700 dark:hover:text-gray-300">React Js Quiz</span></a><div class="flex md:hidden"><button type="button" class="text-gray-500 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:outline-none focus:text-gray-600 dark:focus:text-gray-400" aria-label="toggle menu"><svg viewBox="0 0 24 24" class="w-6 h-6 fill-current"><path fill-rule="evenodd" d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"></path></svg></button></div></div><div class="w-full md:flex md:items-center md:justify-end hidden"><div class="flex flex-col px-2 py-3 -mx-4 md:flex-row md:mx-0 md:py-0 text-2xl"><a class="flex mb-1" href="/"><span class="px-2 py-1 w-full  text-sm font-medium text-gray-700 transition-colors duration-200 transform rounded dark:text-gray-200 hover:bg-gray-900 hover:text-gray-100 md:mx-2">Home</span></a><a class="flex mb-1" href="/blog"><span class="px-2 py-1 w-full  text-sm font-medium text-gray-700 transition-colors duration-200 transform rounded dark:text-gray-200 hover:bg-gray-900 hover:text-gray-100 md:mx-2">Blog</span></a><a class="flex mb-1" href="/privacy-policy"><span class="px-2 py-1 w-full  text-sm font-medium text-gray-700 transition-colors duration-200 transform rounded dark:text-gray-200 hover:bg-gray-900 hover:text-gray-100 md:mx-2">Privacy Policy</span></a><a class="flex mb-1" href="/contact-us"><span class="px-2 py-1 w-full  text-sm font-medium text-gray-700 transition-colors duration-200 transform rounded dark:text-gray-200 hover:bg-gray-900 hover:text-gray-100 md:mx-2">Contact Us</span></a></div></div></div></nav></header><main class=" flex flex-col justify-center items-center py-5 h-full"><article class="p-6 px-6 md:px-10 dark:text-white rounded-lg overflow-hidden"><header class="mb-4"><h1 class="text-2xl md:text-4xl font-bold text-center mb-8 break-words">How to Manage Side Effects with useEffect in React</h1><div class="border-y border-stone-500 py-2 my-4 text-center text-xs md:text-sm break-words"><span class="block">Category: <!-- -->Interview, Concept<!-- --></span><span class="block mx-5">Difficulty: <!-- -->Beginner<!-- --></span><span class="block">Published on: <!-- -->5 September 2024<!-- --></span></div></header><div class="break-words"><div class="container mx-auto px-4 py-8"><p class="mb-4">Managing side effects is a crucial aspect of developing React applications. Side effects can include operations like data fetching, subscriptions, or manually changing the DOM. React provides the<!-- --> <!-- --><code>useEffect</code> hook to handle these side effects in functional components. In this article, we will explore how to use<!-- --> <!-- --><code>useEffect</code> effectively to manage side effects in your React applications.<!-- --></p><h2 class="text-2xl font-semibold mb-4">What is <!-- --><code>useEffect</code>?<!-- --></h2><p class="mb-4">The <!-- --><code>useEffect</code> hook is used to perform side effects in functional components. It accepts two arguments: a function to run after the render, and an optional dependency array that determines when the effect should be re-run. This hook helps you manage operations such as data fetching, subscriptions, and manually manipulating the DOM in a controlled manner.<!-- --></p><h2 class="text-2xl font-semibold mb-4">Basic Usage of <!-- --><code>useEffect</code></h2><p class="mb-4">The simplest use of <!-- --><code>useEffect</code> involves providing a function that runs after every render. Here’s an example:<!-- --></p><div class="w-full overflow-x-auto max-w-[350px] md:max-w-none"><pre class="bg-slate-100 dark:bg-gray-700 p-4 rounded mb-4 text-slate-300"><code class="whitespace-pre-wrap break-words">import React, { useEffect, useState } from &#x27;react&#x27;;

function ExampleComponent() {
  const [data, setData] = useState(null);

  useEffect(() =&gt; {
    // Fetch data when the component mounts
    fetch(&#x27;https://api.example.com/data&#x27;)
      .then(response =&gt; response.json())
      .then(data =&gt; setData(data));
  }, []); // Empty dependency array means 
  this effect runs once after initial render

  return &lt;div&gt;{data ? &lt;pre&gt;{JSON.stringify(data, null, 2)}&lt;/pre&gt; : &#x27;Loading...&#x27;}&lt;/div&gt;;
}</code></pre></div><p class="mb-4">In this example, the <!-- --><code>useEffect</code> hook fetches data from an API when the component mounts. The empty dependency array (<!-- --><code>[]</code>) ensures that this effect runs only once, similar to<!-- --> <!-- --><code>componentDidMount</code> in class components.<!-- --></p><h2 class="text-2xl font-semibold mb-4">Dependencies and Cleanup</h2><p class="mb-4">The dependency array in <!-- --><code>useEffect</code> allows you to control when the effect should run. If you include variables in the dependency array, <!-- --><code>useEffect</code> will run the effect again whenever any of those variables change. Here’s an example:<!-- --></p><div class="w-full overflow-x-auto max-w-[350px] md:max-w-none"><pre class="bg-slate-100 dark:bg-gray-700 p-4 rounded mb-4 text-slate-300"><code class="whitespace-pre-wrap break-words">import React, { useEffect, useState } from &#x27;react&#x27;;

function ExampleComponent({ userId }) {
  const [userData, setUserData] = useState(null);

  useEffect(() =&gt; {
    // Fetch user data whenever userId changes
    fetch(`https://api.example.com/users/${userId}`)
      .then(response =&gt; response.json())
      .then(data =&gt; setUserData(data));
  }, [userId]); // Effect depends on userId

  return &lt;div&gt;{userData 
  ? &lt;pre&gt;{JSON.stringify(userData, null, 2)}&lt;/pre&gt;
   : &#x27;Loading...&#x27;}&lt;/div&gt;;
}</code></pre></div><p class="mb-4">In this example, the <!-- --><code>useEffect</code> hook fetches user data whenever the <!-- --><code>userId</code> prop changes. The effect depends on<!-- --> <!-- --><code>userId</code>, so it will be re-run whenever <!-- --><code>userId</code> <!-- -->changes.<!-- --></p><p class="mb-4">Additionally, you can perform cleanup by returning a function from the effect function. This cleanup function will be called before the component unmounts or before the effect runs again. For example:</p><div class="w-full overflow-x-auto max-w-[350px] md:max-w-none"><pre class="bg-slate-100 dark:bg-gray-700 p-4 rounded mb-4 text-slate-300"><code class="whitespace-pre-wrap break-words">import React, { useEffect, useState } from &#x27;react&#x27;;

function ExampleComponent() {
  const [intervalId, setIntervalId] = useState(null);

  useEffect(() =&gt; {
    // Set up an interval
    const id = setInterval(() =&gt; {
      console.log(&#x27;Interval running...&#x27;);
    }, 1000);
    setIntervalId(id);

    // Cleanup interval on component unmount
    return () =&gt; clearInterval(id);
  }, []); // Empty dependency array means this effect runs once

  return &lt;div&gt;Check the console for interval logs.&lt;/div&gt;;
}</code></pre></div><p class="mb-4">In this example, an interval is set up when the component mounts, and it is cleaned up when the component unmounts by calling<!-- --> <!-- --><code>clearInterval</code>.<!-- --></p><h2 class="text-2xl font-semibold mb-4">Common Pitfalls and Best Practices</h2><p class="mb-4">Here are some common pitfalls and best practices when using<!-- --> <!-- --><code>useEffect</code>:<!-- --></p><ul class="list-disc pl-6 mb-4"><li class="mb-2"><strong>Missing Dependencies:</strong> Ensure that all variables used inside <!-- --><code>useEffect</code> are listed in the dependency array. Failing to do so can lead to stale values or bugs.<!-- --></li><li class="mb-2"><strong>Cleanup Functions:</strong> Always include cleanup functions if you set up subscriptions or intervals to avoid memory leaks.<!-- --></li><li class="mb-2"><strong>Multiple Effects:</strong> Use multiple<!-- --> <!-- --><code>useEffect</code> hooks if you have different side effects. This keeps your code modular and easier to maintain.<!-- --></li></ul><p class="mb-4">By following these practices, you can effectively manage side effects in your React components and keep your application performant and bug-free.</p><h2 class="text-2xl font-semibold mb-4">Conclusion</h2><p class="mb-4">The <!-- --><code>useEffect</code> hook is a powerful tool for managing side effects in React functional components. By understanding how to use it properly, you can optimize your components, manage asynchronous operations, and maintain a clean and efficient codebase. Remember to handle dependencies correctly and include cleanup functions when necessary to avoid common pitfalls.<!-- --></p></div></div></article></main><footer class="bg-white dark:bg-gray-800 dark:text-white p-5 border-t-2  flex flex-col justify-center items-center "><a rel="noopener noreferrer" href="/">Powered by React JS Quiz</a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"How to Manage Side Effects with useEffect in React","description":"Managing side effects is a crucial aspect of developing React applications. Side effects can include operations like data fetching, subscriptions, or manually changing the DOM."},"__N_SSG":true},"page":"/blog/how-to-manage-side-effects-with-useeffect-in-react","query":{},"buildId":"6itQSgHCJf2ErIeQWG4km","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>